<html>
  <head> </head>

  <body>
    <div style="display: block">
      <!-- Check animation loads via method -->
      <div class="player-container" style="width: 500px; height: 500px; margin: auto; justify-content: center">
        <h3>Player one</h3>
        <div id="player-one"></div>
      </div>

      <!-- Check animation load with bad json -->
      <div class="player-container" style="width: 500px; height: 500px; margin: auto; justify-content: center">
        <h3>Player two</h3>
        <div id="player-two-container"></div>
      </div>

      <!-- Check animation load with invalid url -->
      <div class="player-container" style="width: 500px; height: 500px; margin: auto; justify-content: center">
        <h3>Player three</h3>
        <div id="player-three-container"></div>
      </div>
    </div>

    <script src="./dist/dotlottie-player.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"
      integrity="sha512-n/4gHW3atM3QqRcbCn6ewmpxcLAHGaDjpEBu4xZd47N0W2oQ+6q7oc3PXstrJYXcbNU1OHdQ1T7pAP+gi5Yu8g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script type="text/javascript">
      $('#player-one').html(
        '<dotlottie-player autoplay controls loop mode="normal" style="width: 320px" id="test-player"></lottie-player>',
      );
      const player = document.getElementById('test-player');
      player.addEventListener('rendered', (e) => {
        player.load('https://assets8.lottiefiles.com/dotlotties/dlf10_lt5jbkdg.lottie');
      });

      $('#player-two-container').html(
        '<dotlottie-player autoplay controls loop mode="normal" style="width: 320px" id="player-two"></lottie-player>',
      );
      const playerTwo = document.getElementById('player-two');
      playerTwo.addEventListener('rendered', (e) => {
        console.log('player two rendered event fired');
        try {
          playerTwo.load('./exploding_pigeon_and_lighthouse-error.lottie');
        } catch (e) {
          console.log('Error caught');
        }
      });

      $('#player-three-container').html(
        '<dotlottie-player autoplay controls loop mode="normal" style="width: 320px" id="player-three"></lottie-player>',
      );
      const playerThree = document.getElementById('player-three');
      playerThree.addEventListener('rendered', (e) => {
        try {
          playerThree.load('https://assesssssssts8.lottiefiles.com/dotlotties/dlf10_lt5jbkdg.lottie');
        } catch (e) {
          console.log('Error caught');
        }
      });
    </script>
  </body>
</html>
